<%# dom_id(task) => "task_1" %>
<%# target: :_top means that requests inside this frame are not localized to this portion of page by default %>
<%= turbo_frame_tag dom_id(task), target: :_top, class: "ms-5 d-flex flex-row" do %>
  <div class="ms-2 tasks d-flex align-items-center <%= 'done' if task.completion %>">
    <div class="color-status me-3"></div>
    <bdi>
      <%= task.activity %>
      <p class='mb-0'>
        <small>Due <%= task.due_date.try(:strftime, "%d/%m/%Y") %></small>
      </p>
    </bdi>
    <div class="ms-3 d-flex align-items-center">
      <%= link_to toggle_complete_task_path(task),
                  data: { turbo_method: :patch, turbo_frame: dom_id(task) },
                  class: 'btn font-skyblue px-2' do %>
        <i class="fa-regular fa-circle-check"></i>
      <% end %>

      <%= link_to edit_task_path(task), class: 'btn text-warning px-2' do %>
        <i class="fa-solid fa-pen-to-square"></i>
      <% end %>
      <%= link_to task_path(task), class: 'btn text-danger px-2',
                  data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } do %>
        <i class="fa-solid fa-xmark"></i>
      <% end %>
    </div>
  </div>
<% end %>
